{
  "db": "PostgreSQL",
  "5398a03a2e0df05ae0a0714ea69a97ed211d4867a0cdbe9d26c6d3c86a14f9c1": {
    "describe": {
      "columns": [
        {
          "name": "total_urls",
          "ordinal": 0,
          "type_info": "Int8"
        },
        {
          "name": "total_visits",
          "ordinal": 1,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        true,
        true
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "\n        SELECT \n            COUNT(*) as total_urls,\n            COALESCE(SUM(visits), 0) as total_visits\n        FROM urls\n        "
  },
  "6be3f3dd93cd66df5022a58260af0d6e6dcd9a3e5df21a7c9a68acd70ba97af4": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "original_url",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "short_code",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "visits",
          "ordinal": 3,
          "type_info": "Int8"
        },
        {
          "name": "created_at",
          "ordinal": 4,
          "type_info": "Timestamptz"
        },
        {
          "name": "expires_at",
          "ordinal": 5,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true
      ],
      "parameters": {
        "Left": [
          "Text",
          "Varchar",
          "Timestamptz"
        ]
      }
    },
    "query": "\n        INSERT INTO urls (original_url, short_code, expires_at)\n        VALUES ($1, $2, $3)\n        RETURNING id, original_url, short_code, visits, created_at, expires_at\n        "
  },
  "77ae8d5df3e50d90c7a7bf4ec2e56a4fb40b8a0aaa860db4d0ac1436ff52a6db": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "\n        UPDATE urls \n        SET visits = visits + 1 \n        WHERE id = $1\n        "
  },
  "c722e7ae9340f82d08ac8bc639cbedfe8fdfda8732dcef98f2a68bc74f285c8e": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "original_url",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "short_code",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "visits",
          "ordinal": 3,
          "type_info": "Int8"
        },
        {
          "name": "created_at",
          "ordinal": 4,
          "type_info": "Timestamptz"
        },
        {
          "name": "expires_at",
          "ordinal": 5,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true
      ],
      "parameters": {
        "Left": [
          "Varchar"
        ]
      }
    },
    "query": "\n        SELECT id, original_url, short_code, visits, created_at, expires_at\n        FROM urls\n        WHERE short_code = $1\n        AND (expires_at IS NULL OR expires_at > CURRENT_TIMESTAMP)\n        "
  },
  "d0c3f6c2c2bf75a82f943c0c65e0e264e743c7cdec1e6e90305ba72e64fde312": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "original_url",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "short_code",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "visits",
          "ordinal": 3,
          "type_info": "Int8"
        },
        {
          "name": "created_at",
          "ordinal": 4,
          "type_info": "Timestamptz"
        },
        {
          "name": "expires_at",
          "ordinal": 5,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "\n        SELECT id, original_url, short_code, visits, created_at, expires_at\n        FROM urls\n        ORDER BY visits DESC\n        LIMIT 10\n        "
  }
}
